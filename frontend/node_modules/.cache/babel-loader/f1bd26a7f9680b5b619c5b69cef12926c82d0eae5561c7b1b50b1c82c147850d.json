{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bhash\\\\OneDrive\\\\Desktop\\\\movievercelsssss\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Route, Routes, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport MovieForm from \"./components/MovieForm\";\nimport MoviesPage from \"./components/MoviesPage\";\nimport Login from \"./components/Login\"; // Importing the Login component\nimport { AuthProvider } from \"./context/AuthContext\"; // Importing AuthProvider\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = \"http://localhost:5000/movies\";\nconst App = () => {\n  _s();\n  const [movies, setMovies] = useState([]);\n  const navigate = useNavigate();\n\n  // Fetch movies from MongoDB\n  useEffect(() => {\n    axios.get(API_URL).then(response => setMovies(response.data)).catch(error => console.error(\"Error fetching movies:\", error));\n  }, []);\n\n  // Handle movie addition or update\n  const addOrUpdateMovie = async (movie, isEdit) => {\n    if (isEdit) {\n      const response = await axios.put(`${API_URL}/${movie._id}`, movie);\n      setMovies(movies.map(m => m._id === movie._id ? response.data : m));\n    } else {\n      const response = await axios.post(API_URL, movie);\n      setMovies([...movies, response.data]);\n    }\n  };\n\n  // Handle movie deletion\n  const deleteMovie = id => {\n    setMovies(movies.filter(movie => movie._id !== id));\n  };\n\n  // Navigate to edit movie page\n  const handleEdit = movie => {\n    navigate(`/edit-movie/${movie._id}`);\n  };\n  return /*#__PURE__*/_jsxDEV(AuthProvider, {\n    children: [\" \", /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 42\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), \" \", /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/edit-movie/:id\",\n        element: /*#__PURE__*/_jsxDEV(MovieForm, {\n          onSubmit: addOrUpdateMovie,\n          movies: movies\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 56\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/movies\",\n        element: /*#__PURE__*/_jsxDEV(MoviesPage, {\n          movies: movies,\n          onEdit: handleEdit,\n          onDelete: deleteMovie\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 48\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/login\",\n        element: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 47\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n};\n_s(App, \"2l8veYWCZCJ84ygQNsrVM9qUT6I=\", false, function () {\n  return [useNavigate];\n});\n_c = App;\nconst AppWrapper = () => {\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(App, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n};\n_c2 = AppWrapper;\nexport default AppWrapper;\nvar _c, _c2;\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"AppWrapper\");","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Route","Routes","useNavigate","axios","MovieForm","MoviesPage","Login","AuthProvider","jsxDEV","_jsxDEV","API_URL","App","_s","movies","setMovies","navigate","get","then","response","data","catch","error","console","addOrUpdateMovie","movie","isEdit","put","_id","map","m","post","deleteMovie","id","filter","handleEdit","children","path","element","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","onEdit","onDelete","_c","AppWrapper","_c2","$RefreshReg$"],"sources":["C:/Users/bhash/OneDrive/Desktop/movievercelsssss/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { BrowserRouter as Router, Route, Routes, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport MovieForm from \"./components/MovieForm\";\r\nimport MoviesPage from \"./components/MoviesPage\";\r\nimport Login from \"./components/Login\"; // Importing the Login component\r\nimport { AuthProvider } from \"./context/AuthContext\"; // Importing AuthProvider\r\n\r\nconst API_URL = \"http://localhost:5000/movies\";\r\n\r\nconst App = () => {\r\n    const [movies, setMovies] = useState([]);\r\n    const navigate = useNavigate();\r\n\r\n    // Fetch movies from MongoDB\r\n    useEffect(() => {\r\n        axios.get(API_URL)\r\n            .then((response) => setMovies(response.data))\r\n            .catch((error) => console.error(\"Error fetching movies:\", error));\r\n    }, []);\r\n\r\n    // Handle movie addition or update\r\n    const addOrUpdateMovie = async (movie, isEdit) => {\r\n        if (isEdit) {\r\n            const response = await axios.put(`${API_URL}/${movie._id}`, movie);\r\n            setMovies(movies.map((m) => (m._id === movie._id ? response.data : m)));\r\n        } else {\r\n            const response = await axios.post(API_URL, movie);\r\n            setMovies([...movies, response.data]);\r\n        }\r\n    };\r\n\r\n    // Handle movie deletion\r\n    const deleteMovie = (id) => {\r\n        setMovies(movies.filter((movie) => movie._id !== id));\r\n    };\r\n\r\n    // Navigate to edit movie page\r\n    const handleEdit = (movie) => {\r\n        navigate(`/edit-movie/${movie._id}`);\r\n    };\r\n\r\n    return (\r\n        <AuthProvider> {/* Wrapping App with AuthProvider */}\r\n            <Routes>\r\n                <Route path=\"/\" element={<Login />} /> {/* Updated to render Login component */}\r\n                <Route path=\"/edit-movie/:id\" element={<MovieForm onSubmit={addOrUpdateMovie} movies={movies} />} />\r\n                <Route path=\"/movies\" element={<MoviesPage movies={movies} onEdit={handleEdit} onDelete={deleteMovie} />} />\r\n                <Route path=\"/login\" element={<Login />} />\r\n            </Routes>\r\n        </AuthProvider>\r\n    );\r\n};\r\n\r\nconst AppWrapper = () => {\r\n    return (\r\n        <Router>\r\n            <App />\r\n        </Router>\r\n    );\r\n};\r\n\r\nexport default AppWrapper;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}